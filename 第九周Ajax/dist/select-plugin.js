"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}(),Select=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:select_plugin_default_data,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["province","city","area"],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["省","市","区"];_classCallCheck(this,t),this.parent=this.findDOM(e),this.data=n,this.pIndex=-1,this.id=a,this.text=i,this.insertEle(this.parent),this._self=this}return _createClass(t,[{key:"findDOM",value:function(t){return document.querySelector(t)}},{key:"insertEle",value:function(t){function e(t){var e=this,n=t.value;this.pIndex=n;var a={};Object.keys(this.data).forEach(function(t,n){a["o"+n]=e.findDOM("#"+e.id[n])||e.findDOM("#select"+n)}),a[Object.keys(a)[1]].options.length=0,a[Object.keys(a)[2]].options.length=0,this.data[Object.keys(this.data)[1]][n]=this.data[Object.keys(this.data)[1]][n]||[],this.data[Object.keys(this.data)[1]][n].forEach(function(t,e){var n=new Option(t,e);a[Object.keys(a)[1]].options.add(n)}),this.data[Object.keys(this.data)[2]][n]=this.data[Object.keys(this.data)[2]][n]||[[]],1==this.data[Object.keys(this.data)[1]][n].length?this.data[Object.keys(this.data)[2]][n].forEach(function(t,e){var n=new Option(t,e);a[Object.keys(a)[2]].options.add(n)}):this.data[Object.keys(this.data)[2]][n][0].forEach(function(t,e){var n=new Option(t,e);a[Object.keys(a)[2]].options.add(n)})}function n(t){var e=t.value;s[Object.keys(s)[2]].length=0,this.data[Object.keys(this.data)[2]][this.pIndex][e].forEach(function(t,e){var n=new Option(t,e);s[Object.keys(s)[2]].add(n)})}var a=this;this._self=this;var i="",s={},c=document.createElement("div");c.className="select-plugin",Object.keys(this.data).forEach(function(t,e){i+=0===e?"<span>"+(a.text[e]||t)+'</span>\n                <select id="'+(a.id[e]||"select"+e)+'">\n                    <option>请选择</option>\n                 </select>':"<span>"+(a.text[e]||t)+'</span>\n                <select id="'+(a.id[e]||"select"+e)+'">\n                    <option></option>\n                 </select><span>'+(a.text[e]||t)+"</span>"}),c.innerHTML=i,t.appendChild(c),Object.keys(this.data).forEach(function(t,e){s["o"+e]=a.findDOM("#"+a.id[e])||a.findDOM("#select"+e)}),this.data[Object.keys(this.data)[0]].forEach(function(t,e){var n=new Option(t,e);s[Object.keys(s)[0]].options.add(n)}),s[Object.keys(s)[0]].onchange=e.bind(this._self,s[Object.keys(s)[0]]),s[Object.keys(s)[1]].onchange=n.bind(this._self,s[Object.keys(s)[1]])}}]),t}();